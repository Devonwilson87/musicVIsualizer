CTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spotify API1 Music Samples</title>
</head>
<body>
    <h1>Spotify API Example</h1>
    <input type="text" id="searchInput" placeholder="Search for Artist or Song">
    <button onclick="search()">Explore</button>
    <div id="results"></div>

    <div>
        <!-- Paste the copied Spotify embed code here -->
        <iframe src="https://api.spotify.com/v1/search?q=${encodeURIComponent(searchInput)}&type=track" width="300" height="380" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe>
        
    </div>


    <script>
        const clientID = '66fe6133fda54d3aa9b93bd5d3b1f556';
        const clientSecret = 'ae2a46d282a84661a62a4c625a43c180';
        //const accessToken = 'YOUR_ACCESS_TOKEN'; // Access token obtained from Spotify API

      

        async function fetchSpotifySongs() {
            try {
                const response = await fetch('https://api.spotify.com/v1/me/tracks', {
                    headers: {
                        'Authorization': `Bearer ${accessToken}`
                    }
                });

                const data = await response.json();
                displaySpotifySongs(data.items);
            } catch (error) {
                console.error('Error fetching Spotify songs:', error);
            }
        }

        function displaySpotifySongs(songs) {
            const spotifySongsDiv = document.getElementById('spotifySongs');

            songs.forEach(song => {
                const songDiv = document.createElement('div');
                songDiv.innerHTML = `
                    <h3>${song.track.name}</h3>
                    <p>Artist: ${song.track.artists[0].name}</p>
                    <p>Album: ${song.track.album.name}</p>
                    <img src="${song.track.album.images[0].url}" alt="Album Art">
                    <audio controls>
                        <source src="${song.track.preview_url}" type="audio/mpeg">
                        Your browser does not support the audio element.
                    </audio>
                `;
                spotifySongsDiv.appendChild(songDiv);
            });
        }

        // Call the function to fetch Spotify songs when the page loads
        fetchSpotifySongs();
    </script>
</body>
</html>
